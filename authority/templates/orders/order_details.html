{% extends 'authority_base.html' %}
{% load static %}

{% block title %} {{title}} {% endblock title %}



{% block body %}
<div class="container p-4">

    <div class="row">
        <div class="col">
            <h4 class="mb-4">Order details</h4>
        </div>
       
    </div>
    
    <div class="row align-items-start mb-4">
        <div class="col-md-12 col-lg-12">
            <table class="table table-striped table-bordered caption-top">
                <caption>Order Details</caption>
                <thead>
                  <tr class="table-dark">
                    <th scope="col">Fields</th>
                    <th scope="col">Details</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Customer Name</td>
                    <td> {{order.delivery_address.firstname}} {{order.delivery_address.lastname}} </td>
                  </tr>

                  <tr>
                    <td>Date</td>
                    <td> {{order.date}} </td>
                  </tr>

                  <tr>
                    <td>Payment System</td>
                    <td> 
                        {{order.paymentSystem}}
                    </td>
                  </tr>
                  <tr>
                    <td>Total Amount</td>
                    <td> 
                        &#2547; {{order.total}}
                    </td>
                  </tr>

                  <tr>
                    <td>Shipping Charge</td>
                    <td> &#2547; {{order.delivery_fee}} </td>
                  </tr>
                  
                </tbody>
            </table>
      </div>
        <div class="col-md-12 col-lg-12">
            <table class="table table-striped table-bordered caption-top">
                <caption>Shipping Details</caption>
                <thead>
                  <tr class="table-dark">
                    <th scope="col">Fields</th>
                    <th scope="col">Details</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Customer Name</td>
                    <td> {{order.delivery_address.firstname}} {{order.delivery_address.lastname}} </td>
                  </tr>

                  <tr>
                    <td>Address</td>
                    <td> {{order.delivery_address.address}} </td>
                  </tr>

                  <tr>
                    <td>City</td>
                    <td> 
                        {{order.delivery_address.city}}
                    </td>
                  </tr>
                  <tr>
                    <td>Country</td>
                    <td> 
                       {{order.delivery_address.country}}
                    </td>
                  </tr>

                  <tr>
                    <td>Post Code</td>
                    <td>{{order.delivery_address.postcode}} </td>
                  </tr>
                  <tr>
                    <td>Phone</td>
                    <td>{{order.delivery_address.phone}} </td>
                  </tr>
                  <tr>
                    <td>Email</td>
                    <td> {{order.delivery_address.email}} </td>
                  </tr>
                  
                </tbody>
            </table>
      </div>
  </div>
        <div class="col-md-12 col-lg-12">
            <table class="table table-bordered table-striped table-hover ">
                <thead class="table-dark">
                    <tr>
                      <th scope="col">Sl</th>
                      <th scope="col">Product Name</th>
                      <th scope="col">Product Condition</th>
                      <th scope="col">Quantity</th>
                      <th scope="col">Product Price</th>
                      <th scope="col">Sub Total</th>
                    </tr>
                  </thead>
                  <tbody> 
                    {% if order.order_item %} 
                        {% for product in order.order_item.all %}

                        <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            <td> {{product.product.title}} </td>
                            <td> {{product.product.condition}}</td>
                            <td>{{product.quantity}}</td>
                            <td> &#2547; {{product.product.price}}</td>
                            <td> &#2547; {{product.subtotal}}</td>
                            
                          </tr>
          
                        {% endfor %}     
                    {% endif %}
                    </tbody>      
              </table>
      </div>
  </div>

{% endblock body %}